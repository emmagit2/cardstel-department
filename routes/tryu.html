<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bank Cards Dashboard</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

<style>

body {
    background: #f4f5f7;
    font-family: 'Inter', sans-serif;
}

/* Modern filter bar wrapper */
.filter-bar {
    background: #ffffff;
    border-radius: 14px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.07);
    display: flex;
    flex-wrap: wrap;
}

/* Each filter block */
.filter-item {
    position: relative;
    flex: 1;
    min-width: 180px;
}

/* Input/Icon Styling */
.custom-input {
    padding-left: 40px !important;
    border-radius: 10px;
    border: 1px solid #e0e0e0;
    height: 46px;
}

/* Icon inside input */
.filter-icon {
    position: absolute;
    top: 50%;
    left: 12px;
    transform: translateY(-50%);
    font-size: 18px;
    color: #ff7a21;
    opacity: 0.9;
}

/* Smaller, neat button */
.filter-btn {
    background: #ff7a21;
    color: white;
    height: 38px;            /* smaller height */
    padding: 0 18px;         /* compact width */
    border-radius: 8px;      /* softer round */
    font-weight: 600;
    font-size: 14px;         /* smaller text */
    transition: 0.2s;
    border: none;
}
.filter-btn:hover {
    background: #ff954e;
}


/* HEADER – Clean, Soft, No Border */
table thead {
    background: #fafafa;
}
table thead th {
    padding: 16px 14px;
    border-bottom: 1px solid #eee !important;
    color: #222;
    font-weight: 700;
}

/* BODY – Remove bottom border, replace with soft highlight bar */
table tbody tr {
    border-bottom: none !important; /* remove default line */
    position: relative;
    transition: background 0.2s;
}

/* Soft underline effect */
table tbody tr::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: rgba(255, 122, 33, 0.25); /* soft orange */
    opacity: 0.4;
}

/* Hover Row */
table tbody tr:hover {
    background: rgba(0,0,0,0.02);
}

/* Collapse Icon */
.collapse-icon {
    transition: 0.25s;
    font-size: 18px;
}
.collapse-icon.collapsed {
    transform: rotate(90deg);
}

/* Card Brand Badge */
.brand-badge {
    background: #ff7a21;
    color: white;
    padding: 4px 12px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 600;
}

/* Avatar Badge */
.badge-img img {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    border: 2px solid #ff7a21;
    margin-right: 6px;
}

/* Sub Table */
.collapse-row {
    background: #fff8f2;
}
.collapse-row table {
    background: transparent;
}
.collapse-row thead {
    background: #ff7a21 !important;
    color: white;
}
.collapse-row table tbody tr::after {
    background: rgba(0,0,0,0.1);
}

/* Wrapper */
.sub-filter-bar {
    background: #fff;
    padding: 10px 14px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    display: flex;
    flex-wrap: wrap;
}

/* Each item */
.sub-filter-item {
    position: relative;
    flex: 1;
    min-width: 160px;
}

/* Inputs */
.sub-input {
    padding-left: 34px !important;
    height: 36px;
    font-size: 13px;
    border-radius: 8px;
    border: 1px solid #e4e4e4;
}

/* Icons inside input */
.sub-icon {
    position: absolute;
    top: 50%;
    left: 10px;
    font-size: 15px;
    color: #ff7a21;
    opacity: 0.9;
    transform: translateY(-50%);
}

/* Filter Button */
.sub-btn {
    background: #ff7a21;
    color: white;
    border-radius: 8px;
    height: 36px;
    padding: 0 16px;
    font-size: 13px;
    font-weight: 600;
    border: none;
    transition: 0.2s;
}
.sub-btn:hover {
    background: #ff9850;
}
/* SUB TABLE: remove borders */
.modern-subtable {
    border: none !important;
}
.modern-subtable thead tr {
    background: #f8f9fc;
}
.modern-subtable th,
.modern-subtable td {
    border: none !important;
    padding: 10px 14px;
}

/* Avatar */
.avatar-text {
    display: flex;
    align-items: center;
    gap: 8px;
}
.avatar-img {
    width: 34px;
    height: 34px;
    border-radius: 50%;
    border: 2px solid #fff;
    box-shadow: 0 0 4px rgba(0,0,0,0.15);
}

/* Orange Status Badge */
.status-badge {
    background: #ff7a00;
    color: white;
    padding: 4px 10px;
    border-radius: 30px;
    font-size: 12px;
    font-weight: 600;
}

/* Filter Fields */
.sub-input {
    border-radius: 10px;
    padding: 6px 10px;
}
.sub-filter-item {
    position: relative;
}
.sub-icon {
    position: absolute;
    top: 10px;
    left: 10px;
    color: #777;
}
.sub-input {
    padding-left: 32px !important;
}

/* Filter Button */
.sub-btn {
    background: #00783b;
    color: #fff;
    border-radius: 10px;
    padding: 6px 14px;
    font-size: 13px;
}

/* Export Buttons */
.export-btn {
    border-radius: 10px;
    padding: 5px 12px;
    font-size: 13px;
    border: 1px solid #ddd;
    background: white;
    transition: 0.2s;
}
.export-btn:hover {
    background: #f1f1f1;
}

/* Color accents per type */
.csv-btn { border-color: #ff7a00; }
.excel-btn { border-color: #00783b; }
.pdf-btn { border-color: #c21d1d; }


</style>
</head>
<body>
    <div class="container my-5">

    <h2 class="mb-4 text-center">Bank Cards Dashboard</h2>

    <!-- TOP BAR: ACTION BUTTONS + FILTERS -->
    <div class="d-flex flex-wrap align-items-center gap-3 mb-4 p-3 shadow-sm rounded bg-white">

        <!-- ACTION BUTTONS LEFT -->
     <button class="btn btn-warning btn-sm"
        data-bs-toggle="modal"
        data-bs-target="#releaseCardModal">
    <i class="bi bi-box-arrow-up-right me-1"></i> Release Card
</button>

<button class="btn btn-primary btn-sm"
        data-bs-toggle="modal"
        data-bs-target="#addCardModal">
    <i class="bi bi-plus-circle me-1"></i> Add Bank Card
</button>

<button class="btn btn-success btn-sm"
        data-bs-toggle="modal"
        data-bs-target="#updateStatusModal">
    <i class="bi bi-pencil-square me-1"></i> Update Status
</button>

        <!-- FILTER BAR RIGHT -->
        <div class="d-flex flex-wrap align-items-center gap-2 flex-grow-1 ms-auto">

            <!-- Bank Filter -->
            <div class="filter-item d-flex align-items-center gap-1">
                <i class="bi bi-bank2 filter-icon"></i>
                <select id="filterBank" class="form-select form-select-sm custom-input">
                    <option value="">All Banks</option>
                    <option value="1">Bank A</option>
                    <option value="2">Bank B</option>
                </select>
            </div>

            <!-- Card Brand -->
            <div class="filter-item d-flex align-items-center gap-1">
                <i class="bi bi-credit-card-2-front filter-icon"></i>
                <select id="filterBrand" class="form-select form-select-sm custom-input">
                    <option value="">All Brands</option>
                    <option value="Verve">Verve</option>
                    <option value="Mastercard">Mastercard</option>
                </select>
            </div>

            <!-- Start Date -->
            <div class="filter-item d-flex align-items-center gap-1">
                <i class="bi bi-calendar-date filter-icon"></i>
                <input type="date" id="startDate" class="form-control form-control-sm custom-input">
            </div>

            <!-- End Date -->
            <div class="filter-item d-flex align-items-center gap-1">
                <i class="bi bi-calendar-week filter-icon"></i>
                <input type="date" id="endDate" class="form-control form-control-sm custom-input">
            </div>

            <!-- Apply Filter Button -->
            <button class="btn btn-dark btn-sm ms-2">
                <i class="bi bi-funnel-fill me-1"></i> Apply Filters
            </button>
        </div>

    </div>

    <!-- MAIN TABLE -->
    <div class="table-container shadow-sm rounded bg-white overflow-auto">
        <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">

                <thead class="table-light">
                    <tr>
                        <th></th>
                        <th>Bank</th>
                        <th>Card Brand</th>
                        <th>Qty Good</th>
                        <th>Qty Damaged</th>
                        <th>Personalized</th>
                        <th>Ongoing</th>
                        <th>Duplicate</th>
                    </tr>
                </thead>

                <tbody>

                    <!-- MAIN ROW -->
                    <tr class="cursor-pointer">
                        <td class="text-center" data-bs-toggle="collapse" data-bs-target="#details-1">
                            <i class="bi bi-chevron-right collapse-icon"></i>
                        </td>
                        <td>Bank A</td>
                        <td><span class="brand-badge">Verve</span></td>
                        <td>120</td>
                        <td>5</td>
                        <td>60</td>
                        <td>10</td>
                        <td>2</td>
                    </tr>

                    <!-- SUB ROW -->
                    <tr id="details-1" class="collapse collapse-row">
                        <td colspan="8">

                            <!-- SUB FILTER + EXPORT BAR -->
                            <div class="sub-filter-bar d-flex align-items-center gap-2 mb-3 p-2 rounded bg-light shadow-sm">

                                <!-- Start Date -->
                                <div class="sub-filter-item d-flex align-items-center gap-1">
                                    <i class="bi bi-calendar-date sub-icon"></i>
                                    <input type="date" id="subStartDate" class="form-control form-control-sm sub-input">
                                </div>

                                <!-- End Date -->
                                <div class="sub-filter-item d-flex align-items-center gap-1">
                                    <i class="bi bi-calendar-week sub-icon"></i>
                                    <input type="date" id="subEndDate" class="form-control form-control-sm sub-input">
                                </div>

                                <!-- Filter Button -->
                                <button class="btn btn-dark btn-sm ms-auto">
                                    <i class="bi bi-funnel-fill me-1"></i> Filter
                                </button>

                                <!-- Export Buttons -->
                                <div class="export-btn-group d-flex gap-2">
                                    <button class="btn btn-outline-secondary btn-sm">
                                        <i class="bi bi-filetype-csv me-1"></i> CSV
                                    </button>
                                    <button class="btn btn-outline-secondary btn-sm">
                                        <i class="bi bi-file-earmark-spreadsheet me-1"></i> Excel
                                    </button>
                                    <button class="btn btn-outline-secondary btn-sm">
                                        <i class="bi bi-file-earmark-pdf me-1"></i> PDF
                                    </button>
                                </div>

                            </div>

                            <!-- SUB TABLE -->
                            <table class="table modern-subtable table-sm mb-0">
                                <thead>
                                    <tr>
                                        <th>Job Code</th>
                                        <th>Operator</th>
                                        <th>Date & Time</th>
                                        <th>Collected By</th>
                                        <th>Card Type</th>
                                        <th>Qty</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>

                                <tbody id="subTableBody-1">

                                    <tr>
                                        <td>J123456</td>
                                        <td>
                                            <span class="avatar-text">
                                                <img src="https://randomuser.me/api/portraits/men/32.jpg" class="avatar-img">
                                                John Doe
                                            </span>
                                        </td>
                                        <td>2025-11-23 14:35</td>
                                        <td>
                                            <span class="avatar-text">
                                                <img src="https://randomuser.me/api/portraits/men/45.jpg" class="avatar-img">
                                                Michael Smith
                                            </span>
                                        </td>
                                        <td><span class="status-badge">Damaged</span></td>
                                        <td>1</td>
                                        <td>
                                            <div class="d-flex gap-1">
                                                <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#updateStatusModal">
                                                    <i class="bi bi-pencil-square"></i>
                                                </button>
                                                <button class="btn btn-sm btn-danger">
                                                    <i class="bi bi-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>

                                    <tr>
                                        <td>J123457</td>
                                        <td>
                                            <span class="avatar-text">
                                                <img src="https://randomuser.me/api/portraits/women/65.jpg" class="avatar-img">
                                                Sarah Smith
                                            </span>
                                        </td>
                                        <td>2025-11-22 09:20</td>
                                        <td>
                                            <span class="avatar-text">
                                                <img src="https://randomuser.me/api/portraits/women/72.jpg" class="avatar-img">
                                                Linda Johnson
                                            </span>
                                        </td>
                                        <td><span class="status-badge">Duplicate</span></td>
                                        <td>3</td>
                                        <td>
                                            <div class="d-flex gap-1">
                                                <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#updateStatusModal">
                                                    <i class="bi bi-pencil-square"></i>
                                                </button>
                                                <button class="btn btn-sm btn-danger">
                                                    <i class="bi bi-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>

                                </tbody>
                            </table>

                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>

</div>



<!-- Add Card Modal -->
<div class="modal fade" id="addCardModal" tabindex="-1" aria-labelledby="addCardModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="addCardModalLabel">Add Bank Card</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <form id="addCardForm">
          <div class="mb-3">
            <label class="form-label">Bank</label>
            <input type="text" class="form-control" placeholder="Enter Bank Name" id="addBankName">
          </div>

          <div class="mb-3">
            <label class="form-label">Card Brand</label>
            <select class="form-select" id="addCardBrand">
              <option value="">Select Brand</option>
              <option value="Verve">Verve</option>
              <option value="Mastercard">Mastercard</option>
            </select>
          </div>

       

          <div class="mb-3">
            <label class="form-label">Quantity</label>
            <input type="number" class="form-control" id="addCardQty" placeholder="Enter Quantity">
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="saveAddCard">Save</button>
      </div>

    </div>
  </div>
</div>



<!-- Release Card Modal -->
<div class="modal fade" id="releaseCardModal" tabindex="-1" aria-labelledby="releaseCardModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title" id="releaseCardModalLabel">Release Card</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form id="releaseCardForm">
          
          <!-- Bank Name -->
          <div class="mb-3">
            <label class="form-label">Bank Name</label>
            <input type="text" class="form-control" placeholder="Enter Bank Name" id="releaseBankName">
          </div>

          <!-- Card Brand -->
          <div class="mb-3">
            <label class="form-label">Card Brand</label>
            <select class="form-select" id="releaseCardBrand">
              <option value="">Select Brand</option>
              <option value="Verve">Verve</option>
              <option value="Mastercard">Mastercard</option>
            </select>
          </div>

          <!-- Job Code -->
          <div class="mb-3">
            <label class="form-label">Job Code</label>
            <input type="text" class="form-control" placeholder="Enter Job Code" id="releaseJobCode">
          </div>

          <!-- Quantity -->
          <div class="mb-3">
            <label class="form-label">Quantity</label>
            <input type="number" class="form-control" placeholder="Enter Quantity" id="releaseQty">
          </div>
        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-warning" id="saveReleaseCard">Submit</button>
      </div>

    </div>
  </div>
</div>


<!-- Update Status Modal -->
<div class="modal fade" id="updateStatusModal" tabindex="-1" aria-labelledby="updateStatusModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h5 class="modal-title" id="updateStatusModalLabel">Update Card Status</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal Body -->
      <div class="modal-body">
        <form id="updateStatusForm">

          <!-- Job Code (preselected option) -->
          <div class="mb-3">
            <label class="form-label">Job Code</label>
            <select class="form-select" id="updateJobCode">
              <option value="">Select Job Code</option>
              <!-- Example dynamic options -->
              <option value="J123456">J123456</option>
              <option value="J123457">J123457</option>
            </select>
          </div>

          <!-- Bank (preselected based on Job Code) -->
          <div class="mb-3">
            <label class="form-label">Bank</label>
            <input type="text" class="form-control" id="updateBank" placeholder="Bank Name" readonly>
          </div>

          <!-- Status fields -->
          <div class="mb-3">
            <label class="form-label">Damaged</label>
            <input type="number" class="form-control" placeholder="Enter quantity" id="updateDamaged">
          </div>

          <div class="mb-3">
            <label class="form-label">Duplicate</label>
            <input type="number" class="form-control" placeholder="Enter quantity" id="updateDuplicate">
          </div>

          <div class="mb-3">
            <label class="form-label">Ongoing</label>
            <input type="number" class="form-control" placeholder="Enter quantity" id="updateOngoing">
          </div>

          <div class="mb-3">
            <label class="form-label">Personalized</label>
            <input type="number" class="form-control" placeholder="Enter quantity" id="updatePersonalized">
          </div>

        </form>
      </div>

      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-success" id="saveUpdateStatus">Update</button>
      </div>

    </div>
  </div>
</div>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // rotate collapse icon
    const toggles = document.querySelectorAll('[data-bs-toggle="collapse"]');
    toggles.forEach(t => {
        t.addEventListener('click', () => {
            const icon = t.querySelector('.collapse-icon');
            icon.classList.toggle('collapsed');
        });
    });

    // sub filter
    const subFilter = document.getElementById('subFilter-1');
    const bodyRows = document.getElementById('subTableBody-1').getElementsByTagName('tr');

    subFilter.addEventListener('keyup', function () {
        const text = this.value.toLowerCase();
        for (let i = 0; i < bodyRows.length; i++) {
            bodyRows[i].style.display =
                bodyRows[i].innerText.toLowerCase().includes(text) ? '' : 'none';
        }
    });
</script>

</body>
</html>
